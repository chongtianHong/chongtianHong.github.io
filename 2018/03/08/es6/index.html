<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Microsoft YaHei:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="开发,JavaScript,ES6," />










<meta name="description" content="基本介绍 ECMAScript 6.0（以下简称ES6）是JavaScript语言的下一代标准，已经在2015年6月正式发布了。它的目标，是使得JavaScript语言可以用来编写复杂的大型应用程序，成为企业级开发语言。">
<meta name="keywords" content="开发,JavaScript,ES6">
<meta property="og:type" content="article">
<meta property="og:title" content="ES6常用新特性总结">
<meta property="og:url" content="https://chongtianhong.github.io/2018/03/08/es6/index.html">
<meta property="og:site_name" content="Ice&#39;s Blog">
<meta property="og:description" content="基本介绍 ECMAScript 6.0（以下简称ES6）是JavaScript语言的下一代标准，已经在2015年6月正式发布了。它的目标，是使得JavaScript语言可以用来编写复杂的大型应用程序，成为企业级开发语言。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-03-08T14:49:56.899Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ES6常用新特性总结">
<meta name="twitter:description" content="基本介绍 ECMAScript 6.0（以下简称ES6）是JavaScript语言的下一代标准，已经在2015年6月正式发布了。它的目标，是使得JavaScript语言可以用来编写复杂的大型应用程序，成为企业级开发语言。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://chongtianhong.github.io/2018/03/08/es6/"/>





  <title>ES6常用新特性总结 | Ice's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/chongtianHong">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
    </a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ice's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">知耻而后勇</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://chongtianhong.github.io/2018/03/08/es6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xiaobing Hong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ice's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">ES6常用新特性总结</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-08T13:40:32+08:00">
                2018-03-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/开发/" itemprop="url" rel="index">
                    <span itemprop="name">开发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h2><ul>
<li>ECMAScript 6.0（以下简称ES6）是JavaScript语言的下一代标准，已经在2015年6月正式发布了。它的目标，是<strong>使得JavaScript语言可以用来编写复杂的大型应用程序</strong>，成为<strong>企业级开发语言</strong>。<a id="more"></a>
</li>
</ul>
<h3 id="关于变量"><a href="#关于变量" class="headerlink" title="关于变量"></a>关于变量</h3><h4 id="ES5"><a href="#ES5" class="headerlink" title="ES5"></a>ES5</h4><ol>
<li>只有<strong>全局</strong>作用域变量和<strong>函数(局部)</strong>作用域变量。</li>
<li>“变量提升”（当程序进入一个新的函数时，会将该函数中所有的变量的声明放在函数开始的位置。仅仅会<strong>提升变量的声明</strong>，<strong>不会提升变量的赋值</strong>）。</li>
</ol>
<h4 id="ES6新增：块级作用域变量"><a href="#ES6新增：块级作用域变量" class="headerlink" title="ES6新增：块级作用域变量"></a>ES6新增：块级作用域变量</h4><ul>
<li><p><code>let</code>定义<strong>块级作用域</strong>变量</p>
<ol>
<li>没有变量的提升，必须<strong>先声明后使用</strong>。</li>
<li><code>let</code>声明的变量，不能与前面的<code>let</code>，<code>var</code>，<code>conset</code>声明的变量重名。</li>
<li>let命令也用于声明对象，但是<strong>作用域为局部</strong>。若在函数内使用<code>let</code>定义变量，在函数外获取不到该变量。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        //console.log(a)//报错  必须先声明再使用</span><br><span class="line">        <span class="built_in">let</span> a = 10;//只在当前大括号可以使用</span><br><span class="line">        var b = <span class="string">"abc"</span>;//全局作用域变量</span><br><span class="line">        console.log(a);//10</span><br><span class="line">        //<span class="built_in">let</span> a = 10//报错 Uncaught SyntaxError: Identifier <span class="string">'a'</span> has already been declared</span><br><span class="line">        console.log(b);//bac</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(b);//abc</span><br><span class="line">    // console.log(a);//报错 只能在大括号中使用</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>conset</code> 定义<strong>只读</strong>变量(不可修改)</p>
<ol>
<li><code>conset</code>声明变量的同时必须赋值，<code>conset</code>声明的变量必须初始化，一旦<strong>初始化完毕就不允许修改</strong>。强行对其进行重新赋值会报错。</li>
<li><code>conset</code>声明变量也是一个<strong>块级作用域</strong>变量。若在函数内使用<code>conset</code>定义变量，在函数外获取不到该变量。</li>
<li><code>conset</code>声明的变量<strong>没有“变量的提升”</strong>，必须<strong>先声明后使用</strong>。</li>
<li><code>conset</code>声明的变量，不能与前面的<code>let</code>，<code>var</code>，<code>conset</code>声明的变量重名。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    const VERSION = <span class="string">"1.2.3"</span></span><br><span class="line">    console.log( VERSION )//也只能在大括号里使用</span><br><span class="line">&#125;</span><br><span class="line">//console.log( VERSION )//VERSION is not defined  报错，同时也是只读变量</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="关于函数"><a href="#关于函数" class="headerlink" title="关于函数"></a>关于函数</h3><h4 id="ES6可以给形参函数设置默认值"><a href="#ES6可以给形参函数设置默认值" class="headerlink" title="ES6可以给形参函数设置默认值"></a>ES6可以给形参函数设置默认值</h4><ul>
<li>当我们调用函数时，如果设置了<strong>默认形参</strong>，即使<strong>没给函数传入实参</strong>，那么函数的实参就是默认形参。好处：节省了代码量。</li>
<li><p>ES5：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var link = <span class="keyword">function</span> (height, color, url) &#123;  </span><br><span class="line">    var height = height || 50;  </span><br><span class="line">    var color = color || <span class="string">'red'</span>;  </span><br><span class="line">    var url = url || <span class="string">'http://azat.co'</span>;  </span><br><span class="line">    ...  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> fun2(a = 1, b = 2)&#123;</span><br><span class="line">    console.log(a,b)//1,2</span><br><span class="line">&#125;</span><br><span class="line">fun2(11,22);//11 22</span><br><span class="line">fun2(100);//100 2</span><br></pre></td></tr></table></figure>
</li>
<li><p>在构造函数中也可是使用的:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> Person(name,age,sex=<span class="string">"男"</span>)&#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    this.age = age;</span><br><span class="line">    this.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line">var p1 = new Person(<span class="string">"张三"</span>,20);</span><br><span class="line">console.log(p1)// Person &#123;name: <span class="string">"张三"</span>, age: 20, sex: <span class="string">"男"</span>&#125;</span><br><span class="line">var p2 = new Person(<span class="string">"赵四"</span>,30);</span><br><span class="line">console.log(p2)// Person &#123;name: <span class="string">"赵四"</span>, age: 30, sex: <span class="string">"男"</span>&#125;</span><br><span class="line">var p3 = new Person(<span class="string">"翠花"</span>,20,<span class="string">"女"</span>);</span><br><span class="line">console.log(p3)// Person &#123;name: <span class="string">"翠花"</span>, age: 20, sex: <span class="string">"女"</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><ul>
<li>ES6中新增箭头操作符用于简化函数的写法，操作符<strong>左边</strong>为<strong>参数</strong>，右边为<strong>具体操作和返回值</strong>。</li>
<li>箭头函数的特性：<ul>
<li>共享父级this对象</li>
<li>共享父级arguments</li>
<li>不能当做构造函数</li>
</ul>
</li>
<li>箭头函数的语法：<ol>
<li>当箭头函数入参只有一个时可以省略入参括号；</li>
<li>当入参多余一个或没有入参时必须写括号；</li>
<li>当函数体只有一个 return 语句时可以省略函数体的花括号与 return 关键字。</li>
</ol>
</li>
<li><p>正常函数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//正常函数</span><br><span class="line">var fun3 = <span class="keyword">function</span>(a)&#123;</span><br><span class="line">    console.log(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//箭头函数</span><br><span class="line">var fun3 = (a)=&gt;&#123;console.log(a);&#125;</span><br><span class="line">fun3(999);</span><br></pre></td></tr></table></figure>
</li>
<li><p>比如我们用箭头函数计算一个1到100的和:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var fun4 = ()=&gt;&#123;</span><br><span class="line">    var sum=0;</span><br><span class="line">    <span class="keyword">for</span>(var i = 1; i&lt;=100; i++)&#123;</span><br><span class="line">        sum = sum+i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line">console.log(fun4());// 5050</span><br></pre></td></tr></table></figure>
</li>
<li><p>箭头函数还修复了<strong>this的指向</strong>，使其<strong>永远指向词法作用域</strong>，即箭头函数在哪里生成<code>this</code>就指向哪里：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">    birth: 1990,</span><br><span class="line">    getAge: <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">        var b = this.birth; // 1990</span><br><span class="line">        var fn = () =&gt; new Date().getFullYear() - this.birth; // this指向obj对象</span><br><span class="line">        <span class="built_in">return</span> fn();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">obj.getAge(); // 28（当前为2018年）</span><br></pre></td></tr></table></figure>
</li>
<li><p>复习一下<code>this</code>的认识:</p>
<ol>
<li>在函数体外，<code>this</code>指的就是window对象(全局函数调用)。</li>
<li>在函数体内，谁调用函数<code>this</code>就指向谁(对象方法调用)。</li>
<li>在构造函数中，<code>this</code>指的是新创建的对象(构造函数调用)。</li>
<li>在html标签中，<code>this</code>指的是当前的这个标签元素。</li>
<li>在ES6中，对于箭头函数，<code>this</code>是根据上下文结构决定的，箭头函数在哪里生成<code>this</code>就指向哪里。</li>
</ol>
</li>
</ul>
<h3 id="延展操作符"><a href="#延展操作符" class="headerlink" title="延展操作符"></a>延展操作符</h3><ul>
<li><p>在数组之前加上三个点(…)，可以对数组进行<strong>展开运算</strong>。通过它可以<strong>将数组作为参数</strong>直接传入函数（用<strong>数组</strong>给函数<strong>批量的传参</strong>）:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// example1</span><br><span class="line">var arr = [1,2,3,4,5];</span><br><span class="line">console.log(arr);//[1, 2, 3, 4, 5]</span><br><span class="line">console.log(...arr)// 1 2 3 4 5</span><br><span class="line"></span><br><span class="line">// example2</span><br><span class="line">var people=[<span class="string">'Wayou'</span>,<span class="string">'John'</span>,<span class="string">'Sherlock'</span>];</span><br><span class="line"><span class="keyword">function</span> sayHello(people1,people2,people3)&#123;</span><br><span class="line">    console.log(`Hello <span class="variable">$&#123;people1&#125;</span>,<span class="variable">$&#123;people2&#125;</span>,<span class="variable">$&#123;people3&#125;</span>`); //字符串模板</span><br><span class="line">&#125;</span><br><span class="line">sayHello(...people);//输出：Hello Wayou,John,Sherlock</span><br></pre></td></tr></table></figure>
</li>
<li><p>没有展开数组，打印结果如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> fun5(a,b,c,d,e,f)&#123;</span><br><span class="line">    console.log(a,b,c,d,e,f)</span><br><span class="line">&#125;</span><br><span class="line">fun5([1,2,3,4,5])</span><br><span class="line">//输出</span><br><span class="line">[1, 2, 3, 4, 5] undefined undefined undefined undefined</span><br></pre></td></tr></table></figure>
</li>
<li><p>在函数定义时可以通过…rest获取定义参数外的所有参数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> foo(a, b, ...rest) &#123;</span><br><span class="line">    console.log(<span class="string">'a = '</span> + a);</span><br><span class="line">    console.log(<span class="string">'b = '</span> + b);</span><br><span class="line">    console.log(rest);</span><br><span class="line">&#125;</span><br><span class="line">foo(1, 2, 3, 4, 5);</span><br><span class="line">// 结果:</span><br><span class="line">// a = 1</span><br><span class="line">// b = 2</span><br><span class="line">// Array [ 3, 4, 5 ]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="关于apply和call"><a href="#关于apply和call" class="headerlink" title="关于apply和call"></a>关于apply和call</h3><ul>
<li>apply和call，都是对象本身没有某个属性或者方法，去引用其他对象的属性或方法，也就是说两者都可以改变this的指向。<h4 id="不同之处"><a href="#不同之处" class="headerlink" title="不同之处"></a>不同之处</h4></li>
<li>apply(this的指向，数组/arguments)</li>
<li>call(this的指向，参数1，参数2，参数3)<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var color = <span class="string">"yellow"</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">showColor</span></span>()&#123;</span><br><span class="line">    console.log(this.color)</span><br><span class="line">&#125;</span><br><span class="line">var obj = &#123;</span><br><span class="line">    color:<span class="string">"red"</span>,</span><br><span class="line">&#125;</span><br><span class="line">showColor();//yellow</span><br><span class="line">//call，apply改变this的指向</span><br><span class="line">showColor.apply(obj);//red</span><br><span class="line">showColor.call(obj);//red</span><br><span class="line">showColor.apply(this);//yellow</span><br><span class="line">showColor.call(window);//yellow</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="关于解构赋值"><a href="#关于解构赋值" class="headerlink" title="关于解构赋值"></a>关于解构赋值</h3><ul>
<li>ES6 允许按照一定模式，从<strong>数组</strong>和<strong>对象</strong>中<strong>提取值</strong>，对变量进行<strong>赋值</strong>，这被称为解构（Destructuring）。 </li>
<li>自动解析数组或对象中的值，不用以对象的方式返回。</li>
</ul>
<h4 id="数组的解构赋值"><a href="#数组的解构赋值" class="headerlink" title="数组的解构赋值"></a>数组的解构赋值</h4><ul>
<li><p>数组解构，使用变量声明关键字声明一个形参数组（[a, , b]），等号后跟一个待解构目标数组（[1, 2, 3]），解构时可以通过留空的方式跳过数组中间的个别元素，但是在形参数组中<strong>必须留有相应空位</strong>才可以继续解构之后的元素，如果要跳过的元素处于<strong>数组末端</strong>，则在形参数组中<strong>可以不予留空</strong>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var &#123;b, c&#125; = &#123;a: 1, b: 2, c: 3&#125;;</span><br><span class="line">console.log(b); // =&gt; 2</span><br><span class="line">console.log(c); // =&gt; 3</span><br><span class="line"></span><br><span class="line">var [a,b,c] = [11,22,33]</span><br><span class="line">console.log(a,b,c)//11 22 33</span><br><span class="line">// 等同于</span><br><span class="line">var a = 1;</span><br><span class="line">var b = 2;</span><br><span class="line">var c = 3;</span><br><span class="line">console.log(a,b,c)//11 22 33</span><br><span class="line"></span><br><span class="line">var [e,[f,g],k] = [1,[2,3],5]</span><br><span class="line">console.log(e,f,g,k)//1 2 3 5</span><br></pre></td></tr></table></figure>
</li>
<li><p>以前互换两个变量的值，需要借助第三个变量，利用解构赋值，就方便很多了:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var f1 = 88;</span><br><span class="line">var f2 = 99;</span><br><span class="line">[f1,f2]=[f2,f1];</span><br><span class="line">console.log(f1,f2)//99 88</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> cal(a,b)&#123;</span><br><span class="line">    var ret1 = a+b;</span><br><span class="line">    var ret2 = a-b;</span><br><span class="line">    var ret3 = a*b;</span><br><span class="line">    var ret4 = a/b;</span><br><span class="line">    <span class="built_in">return</span> [ret1,ret2,ret3,ret4]</span><br><span class="line">&#125;</span><br><span class="line">var [r1,r2,r3,r4] = cal(10,5);</span><br><span class="line">console.log(r1,r2,r3,r4)//15 5 50 2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="对象的解构赋值"><a href="#对象的解构赋值" class="headerlink" title="对象的解构赋值"></a>对象的解构赋值</h4><ul>
<li><p>对象解构与数组解构大体相同，不过需要注意一点：</p>
<ul>
<li>形参对象（{b, c}）的属性或方法名必须与待解构的目标对象中的属性或方法名完全相同才能解构到对应的属性或方法。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var &#123;name, age&#125; = &#123;name:<span class="string">"张三"</span>,age:<span class="string">"20"</span>&#125;</span><br><span class="line">console.log(name, age)//张三 20</span><br><span class="line"></span><br><span class="line">var &#123;b, c&#125; = &#123;a: 1, b: 2, c: 3&#125;;</span><br><span class="line">console.log(b); // =&gt; 2</span><br><span class="line">console.log(c); // =&gt; 3</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="对象匹配解构"><a href="#对象匹配解构" class="headerlink" title="对象匹配解构"></a>对象匹配解构</h4><ul>
<li>对象匹配解构是对象解构的一种延伸用法，可以在形参对象中使用：来更改解构后的变量名。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var example = <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    <span class="built_in">return</span> &#123;a: 1, b: 2, c: 3&#125;;</span><br><span class="line">&#125;</span><br><span class="line">var &#123;a: d, b: e, c: f&#125; = example();</span><br><span class="line">console.log(d, e, f); // =&gt; 1, 2, 3</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="函数入参解构"><a href="#函数入参解构" class="headerlink" title="函数入参解构"></a>函数入参解构</h4><ul>
<li>函数的入参解构也是对象解构的一种延伸用法，我们可以通过改写入参对象目标值为变量名的方式，在函数内部直接获取到入参对象中某个属性或方法的值。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> example(&#123;param: value&#125;) &#123;</span><br><span class="line">    <span class="built_in">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line">console.log(example(&#123;param: 5&#125;)); // =&gt; 5</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="函数入参解构-1"><a href="#函数入参解构-1" class="headerlink" title="函数入参解构"></a>函数入参解构</h4><ul>
<li>这是入参解构的另一种用法，我们可以在入参对象的形参属性或方法中<strong>使用等号的方式</strong>给入参对象的某些属性或方法<strong>设定默认值</strong>。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> example(&#123;x, y, z = 0&#125;) &#123;</span><br><span class="line">    <span class="built_in">return</span> x + y + z;</span><br><span class="line">&#125;</span><br><span class="line">console.log(example(&#123;x: 1, y: 2&#125;));       // =&gt; 3</span><br><span class="line">console.log(example(&#123;x: 1, y: 2, z: 3&#125;)); // =&gt; 6</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="解构json"><a href="#解构json" class="headerlink" title="解构json"></a>解构json</h4><ul>
<li>解构赋值还可以解构json数据：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var jike = &#123;<span class="string">"name"</span>:<span class="string">"tom"</span>,<span class="string">"age"</span>:<span class="string">"23"</span>,<span class="string">"sex"</span>:<span class="string">"男"</span>&#125;;</span><br><span class="line">var &#123;name,age,sex&#125;=jike;</span><br><span class="line">console.log(name,age,sex)//tom 23 男</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="string中加入include方法"><a href="#string中加入include方法" class="headerlink" title="string中加入include方法"></a>string中加入include方法</h3><ul>
<li><p>includes(“字符”); 用于判断字符串中是否包含某个字符</p>
<ul>
<li>存在返回true 不存在返回false。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str = <span class="string">"hello"</span>;</span><br><span class="line">console.log( str.includes(<span class="string">"e"</span>) )//<span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>includes(“字符”,keyIndex); 用于判断字符串中下标keyIndex是否是某个字符</p>
<ul>
<li>是返回true 不是返回false。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str = <span class="string">"hello"</span>;</span><br><span class="line">console.log( str.includes(<span class="string">"e"</span>,3) );//<span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="interable类型"><a href="#interable类型" class="headerlink" title="interable类型"></a>interable类型</h3><ul>
<li>为了统一集合类型，ES6标准引入了新的iterable类型，<code>Array</code>、<code>Map</code>和<code>Set</code>都属于iterable类型，具有iterable类型的集合可以通过新的<code>for … of</code>循环来<strong>遍历</strong>。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var a = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>];</span><br><span class="line">var s = new Set([<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>]);</span><br><span class="line">var m = new Map([[<span class="string">'x'</span>, 1], [<span class="string">'y'</span>, 2], [<span class="string">'z'</span>, 3]]);</span><br><span class="line"><span class="keyword">for</span> (var x of a) &#123; // 遍历Array</span><br><span class="line">    alert(x); //依次弹出 A,B,C</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (var x of s) &#123; // 遍历Set</span><br><span class="line">    alert(x); //依次弹出 A,B,C</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (var x of m) &#123; // 遍历Map</span><br><span class="line">    alert(x[0] + <span class="string">'='</span> + x[1]); //依次弹出 x=1,y=2,z=3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Set"><a href="#Set" class="headerlink" title="Set()"></a>Set()</h4><ul>
<li>Set()是指<strong>有序列表</strong>集合(set中的元素是<strong>没有重复</strong>的)。</li>
<li>Set包含的方法:<ul>
<li><code>add()</code>、<code>has()</code>、<code>delete()</code>、<code>clear()</code>等。</li>
</ul>
</li>
</ul>
<blockquote>add()</blockquote>

<ul>
<li>add()方法用于添加元素：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var s = new Set();</span><br><span class="line">s.add(1);</span><br><span class="line">s.add(window);</span><br><span class="line">s.add(<span class="literal">true</span>);</span><br><span class="line">s.add(1);</span><br><span class="line">console.log(s);//&#123;1, Window, <span class="literal">true</span>&#125; 一共三个元素</span><br><span class="line">console.log(s.size)//数组的长度是3</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>delete(value)</blockquote>

<ul>
<li>delete(value)用于删除指定元素：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var s = new Set();</span><br><span class="line">s.add(1);</span><br><span class="line">s.add(window);</span><br><span class="line">s.add(<span class="literal">true</span>);</span><br><span class="line">s.delete(window);</span><br><span class="line">console.log(s)   //1  <span class="literal">true</span></span><br><span class="line">console.log(s.size)   //2</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>has(value)</blockquote>

<ul>
<li>has(value)用来判断指定的值是否在set集合中：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var s = new Set();</span><br><span class="line">s.add(1);</span><br><span class="line">s.add(window);</span><br><span class="line">// 存在返回<span class="literal">true</span> 不存在返回<span class="literal">false</span></span><br><span class="line">console.log( s.has(1) )//<span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>clear()</blockquote>

<ul>
<li>clear() 用来清空set集合：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var s = new Set();</span><br><span class="line">s.add(1);</span><br><span class="line">s.add(window);</span><br><span class="line">s.clear()</span><br><span class="line">console.log(s)//此时为空</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>例子</blockquote>

<ul>
<li>生成10个1-20的随机数，要求不可以重复：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var arr3 = new Set(); </span><br><span class="line"><span class="keyword">while</span>(arr3.size&lt;10)&#123; </span><br><span class="line">    var yuan = parseInt(Math.random() * (20 - 1 + 1) + 1); </span><br><span class="line">    arr3.add(yuan); </span><br><span class="line">&#125; </span><br><span class="line">console.log(arr3)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Map"><a href="#Map" class="headerlink" title="Map()"></a>Map()</h4><ul>
<li>Map() 用来存放键值对的集合 key/value<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var map = new Map();</span><br><span class="line">map.set(<span class="string">"name"</span>,<span class="string">"张三"</span>);</span><br><span class="line">map.set(<span class="string">"age"</span>,20);</span><br><span class="line">console.log(map)    //Map &#123;<span class="string">"name"</span> =&gt; <span class="string">"张三"</span>, <span class="string">"age"</span> =&gt; 20&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>get(key)</blockquote>

<ul>
<li>get(key)根据key值取得value：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log( map.get(<span class="string">"name"</span>))//张三</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>has()</blockquote>

<ul>
<li>has() 判断是否存在某个键值对：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log( map.has(<span class="string">"age"</span>) ) //<span class="literal">true</span></span><br><span class="line">console.log( map.has(<span class="string">"age1"</span>) ) //<span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>delete()</blockquote>

<ul>
<li>delete() 删除集合中的键值对：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.delete(<span class="string">"name"</span>); // 删除key <span class="string">"name"</span></span><br><span class="line">console.log(map);//Map &#123;<span class="string">"age"</span> =&gt; 20&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>clear()</blockquote>

<ul>
<li>clear() 清空集合：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.clear();</span><br><span class="line">console.log(map);//Map(0) &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="增强的对象字面量"><a href="#增强的对象字面量" class="headerlink" title="增强的对象字面量"></a>增强的对象字面量</h3><ul>
<li>实现继承，可以直接在对象字面量里面定义原型，不用再用 <code>function</code> 关键字。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//  通过对象字面量创建对象</span><br><span class="line">var  human = &#123;</span><br><span class="line">    <span class="function"><span class="title">breathe</span></span>  () &#123; // 不需要使用<span class="keyword">function</span>关键字</span><br><span class="line">        console.log (<span class="string">'breathing...'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">var worker = &#123;</span><br><span class="line">    __proto__:human, //设置此对象的原型为human，相当于继承human</span><br><span class="line">    company：‘freeLancer’，</span><br><span class="line">    <span class="function"><span class="title">work</span></span>() &#123;</span><br><span class="line">       console.log (<span class="string">'working...'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">human.breathe();//输出 ‘breathing...’</span><br><span class="line">//调用继承来的breathe方法</span><br><span class="line">worker.breathe();//输出 ‘breathing...’</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h3><ul>
<li>ES6 里面 <code>Promise</code> 可以用来<strong>避免异步操作函数里的嵌套回调</strong>（callback hell）问题，采用链式调用替代：’.then().then()’。</li>
<li><p>适用于 ajax网络请求、读取localstorage等操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//创建promise</span><br><span class="line">var promise = new Promise(<span class="keyword">function</span>(resolve, reject) &#123;</span><br><span class="line">    // 进行一些异步或耗时操作</span><br><span class="line">    <span class="keyword">if</span> ( /*如果成功 */ ) &#123;</span><br><span class="line">        resolve(<span class="string">"Stuff worked!"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        reject(Error(<span class="string">"It broke"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">//绑定处理程序</span><br><span class="line">promise.then(<span class="keyword">function</span>(result) &#123;</span><br><span class="line">    //promise成功的话会执行这里</span><br><span class="line">    console.log(result); // <span class="string">"Stuff worked!"</span></span><br><span class="line">&#125;, <span class="keyword">function</span>(err) &#123;</span><br><span class="line">    //promise失败会执行这里</span><br><span class="line">    console.log(err); // Error: <span class="string">"It broke"</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES5：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="title">function</span></span>()&#123;  </span><br><span class="line">    console.log(<span class="string">'Yay!'</span>);  </span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var wait1000 = new Promise(<span class="keyword">function</span>(resolve,reject)&#123;</span><br><span class="line">    setTimeout(resolve,1000);</span><br><span class="line">&#125;).<span class="keyword">then</span>(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">    console.log(<span class="string">'Yay!'</span>); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果有更多的嵌套逻辑在setTimeout()回调函数中，好处会明显一点。</p>
</li>
<li><p>ES5：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="title">function</span></span>()&#123;  </span><br><span class="line">    console.log(<span class="string">'Yay!'</span>);  </span><br><span class="line">    setTimeout(<span class="function"><span class="title">function</span></span>()&#123;  </span><br><span class="line">        console.log(<span class="string">'Wheeyee!'</span>);  </span><br><span class="line">    &#125;, 1000)  </span><br><span class="line">&#125;, 1000);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6：可以用promise重写:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var wait1000 = new Promise(<span class="keyword">function</span>(resolve,reject)&#123;</span><br><span class="line">    setTimeout(resolve,1000);</span><br><span class="line">&#125;);</span><br><span class="line">wait1000()</span><br><span class="line">    .<span class="keyword">then</span>(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">'Yay!'</span>);  </span><br><span class="line">        <span class="built_in">return</span> wait1000()</span><br><span class="line">    &#125;).<span class="keyword">then</span>(<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        console.log(<span class="string">'Wheeyee!'</span>); </span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="模板对象"><a href="#模板对象" class="headerlink" title="模板对象"></a>模板对象</h3><h4 id="在字符串里面输出变量。"><a href="#在字符串里面输出变量。" class="headerlink" title="在字符串里面输出变量。"></a>在字符串里面输出变量。</h4><ul>
<li><p>ES5：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var name = <span class="string">'Your name is '</span> + first + <span class="string">' '</span> + last + <span class="string">'.'</span>;  </span><br><span class="line">var url = <span class="string">'http://localhost:3000/api/messages/'</span> + id;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6：，使用新的语法 $ {NAME}，并把它放在反引号里。</p>
</li>
<li><p>可以使用反引号（<code>`</code>，位于 <code>TAB</code> 上方）来输入一段简单明了的多行字符串，还可以在字符串中通过 <code>${变量名}</code> 的形式方便地插入一个变量：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var name = &apos;Your name is $&#123;first&#125; $&#123;last&#125;.&apos;;</span><br><span class="line">var url = &apos;http://loalhost:3000/api/messages/$&#123;id&#125;&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>好处： 这里的$ {NAME}直接当做字符串用，无需写加号。</p>
</li>
</ul>
<h4 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h4><ul>
<li><p>ES5:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var roadPoem = <span class="string">'Then took the other, as just as fair,\n'</span>  </span><br><span class="line">    + <span class="string">'And having perhaps the better claim,\n'</span>  </span><br><span class="line">    + <span class="string">'Because it was grassy and wanted wear,\n'</span>  </span><br><span class="line">    + <span class="string">'Though as for that the passing there,\n'</span>  </span><br><span class="line">    + <span class="string">'Had worn them really about the same.'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var roadPoem = `Then took the other, as just as fair, </span><br><span class="line">    And having perhaps the better claim, </span><br><span class="line">    Because it was grassy and wanted wear,  </span><br><span class="line">    Though as <span class="keyword">for</span> that the passing there ,</span><br><span class="line">    Had worn them really about the same.`;</span><br></pre></td></tr></table></figure>
</li>
<li><p>好处：直接一个反引号，将所有的字符串放进去即可，中间可以随意换行。</p>
</li>
</ul>

      
    </div>
    
    
    

    

    

    
  <div>
    
      <div>
    
        <div style="text-align:center;color: #666;font-size:14px;">
            ------ 本文结束 ------
        </div>
    
</div>
    
  </div>
    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/开发/" rel="tag"><i class="fa fa-tag"></i> 开发</a>
          
            <a href="/tags/JavaScript/" rel="tag"><i class="fa fa-tag"></i> JavaScript</a>
          
            <a href="/tags/ES6/" rel="tag"><i class="fa fa-tag"></i> ES6</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/03/07/thinkjs3/" rel="next" title="ThinkJS学习笔记(三)">
                <i class="fa fa-chevron-left"></i> ThinkJS学习笔记(三)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/03/09/dns/" rel="prev" title="DNS学习笔记">
                DNS学习笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Xiaobing Hong" />
            
              <p class="site-author-name" itemprop="name">Xiaobing Hong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">50</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/chongtianHong/" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:hongxb@mail2.sysu.edu.cn" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#基本介绍"><span class="nav-number">1.</span> <span class="nav-text">基本介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#关于变量"><span class="nav-number">1.1.</span> <span class="nav-text">关于变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ES5"><span class="nav-number">1.1.1.</span> <span class="nav-text">ES5</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ES6新增：块级作用域变量"><span class="nav-number">1.1.2.</span> <span class="nav-text">ES6新增：块级作用域变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关于函数"><span class="nav-number">1.2.</span> <span class="nav-text">关于函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ES6可以给形参函数设置默认值"><span class="nav-number">1.2.1.</span> <span class="nav-text">ES6可以给形参函数设置默认值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#箭头函数"><span class="nav-number">1.2.2.</span> <span class="nav-text">箭头函数</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#延展操作符"><span class="nav-number">1.3.</span> <span class="nav-text">延展操作符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关于apply和call"><span class="nav-number">1.4.</span> <span class="nav-text">关于apply和call</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#不同之处"><span class="nav-number">1.4.1.</span> <span class="nav-text">不同之处</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#关于解构赋值"><span class="nav-number">1.5.</span> <span class="nav-text">关于解构赋值</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#数组的解构赋值"><span class="nav-number">1.5.1.</span> <span class="nav-text">数组的解构赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对象的解构赋值"><span class="nav-number">1.5.2.</span> <span class="nav-text">对象的解构赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#对象匹配解构"><span class="nav-number">1.5.3.</span> <span class="nav-text">对象匹配解构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#函数入参解构"><span class="nav-number">1.5.4.</span> <span class="nav-text">函数入参解构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#函数入参解构-1"><span class="nav-number">1.5.5.</span> <span class="nav-text">函数入参解构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#解构json"><span class="nav-number">1.5.6.</span> <span class="nav-text">解构json</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#string中加入include方法"><span class="nav-number">1.6.</span> <span class="nav-text">string中加入include方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#interable类型"><span class="nav-number">1.7.</span> <span class="nav-text">interable类型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Set"><span class="nav-number">1.7.1.</span> <span class="nav-text">Set()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Map"><span class="nav-number">1.7.2.</span> <span class="nav-text">Map()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增强的对象字面量"><span class="nav-number">1.8.</span> <span class="nav-text">增强的对象字面量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promises"><span class="nav-number">1.9.</span> <span class="nav-text">Promises</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模板对象"><span class="nav-number">1.10.</span> <span class="nav-text">模板对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#在字符串里面输出变量。"><span class="nav-number">1.10.1.</span> <span class="nav-text">在字符串里面输出变量。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#多行字符串"><span class="nav-number">1.10.2.</span> <span class="nav-text">多行字符串</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiaobing Hong</span>

  
</div>









<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
&nbsp本站访客数&nbsp<span id="busuanzi_value_site_uv"></span>&nbsp人&nbsp
</span>
<span>&nbsp|&nbsp</span>
<i class="fa fa-eye"></i><span id="busuanzi_container_site_pv">
&nbsp本站总访问量&nbsp<span id="busuanzi_value_site_pv"></span>&nbsp次
</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
